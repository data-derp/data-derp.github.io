---
sidebar_position: 1
---

# Road to Delta Lake

<div style={{textAlign: 'center'}}>

<figure class="video-container">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/soYUor6W3vs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</figure>

</div>

## Presentation Content (to follow along)
### Preface
<div style={{textAlign: 'center'}}>

![not-everything-is-big-data.png](./assets/not-everything-is-big-data.png)

</div>

We’re here to teach you big data skills, but in reality...

Single-Node vs. Cluster: not everything is Big Data!
* [You don’t always need Spark (Bonus)](https://www.indellient.com/blog/a-journey-from-pandas-to-spark-data-frames/)
* [Sometimes Pandas deployed on a single node function/container is just fine! (Bonus)](https://www.indellient.com/blog/a-journey-from-pandas-to-spark-data-frames/))

When it comes to Batch vs Streaming, [streaming isn’t always the solution (Bonus)](https://www.section.io/engineering-education/batch-processing-vs-stream-processing/)!

### History of Big Data - Revisited
**Databases**
* single node servers, vertical scaling only
* mostly used for operational data, transactions

**On-Prem Data Warehouses**
* horizontal scaling possible
* utilized massively parallel processing (MPP) to run big queries
* SQL-only interface, low interoperability

**On-Prem Data Lakes**
* Hadoop ecosystem
* Data Processing via MapReduce, Hive, Spark, etc.
* Difficult for data governance and data integrity 

### Some Problems with Big Data Workloads

<div style={{textAlign: 'center'}}>

<figure class="video-container">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/VRm2UMsFVz0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</figure>

ACID Transactions

</div>

* ACID transactions
* Corrupt/incomplete data
* Editability, schema evolution
* GDPR requests
* Data versioning and auditability (very important for getting Machine Learning models approved by regulators)

## Some More Problems with Big Data Workloads
**Batch vs Streaming conundrum**

* Lambda Architecture: Having to maintain different code bases and data stores for batch and for streaming


* Kappa Architecture: play everything through the streaming pipeline...but your retention period is **limited** and it’s a pain to manage, query, edit
  * Moral of the story: streaming/Kappa architecture isn’t a silver bullet

## Modern Solutions
<div style={{textAlign: 'center'}}>

<figure class="video-container">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/LJtShrQqYZY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</figure>

[Delta Lake](https://delta.io/)

</div>

* This presentation is actually from early/mid 2019 (ignore the upload date on YouTube),
* Delta Lake’s gotten even better since then!
* **Executive Summary:**
  * Delta Lake is just Apache Parquet with **a transaction log on top**!
  * Keep using your preferred storage technology (e.g. S3, Azure Data Lake Storage)
  * Allows fine-grained updates, deletes to big data (GDPR)
  * Allows data versioning, time travel, rollbacks, audit history
  * Optimizes the layout of your underlying parquet files (via OPTIMIZE) for query performance

## Delta Lake Key Features
[Link](https://delta.io/)
* ACID Transactions
  * Ensures data integrity, using the transaction log
* Updates, Deletes, Upserts
  * Perform Data Manipulation Language (DML) commands such as updates/deletes/upserts
  * Important for GDPR, improving/maintaining data quality of existing tables
* Advanced Metadata handling
  * Enhanced capturing and utilization of metadata
  * Improves query performance compared to standard Parquet
* Schema Enforcement & Evolution

* [Demo video](https://databricks.com/discover/demos/delta-lake)

